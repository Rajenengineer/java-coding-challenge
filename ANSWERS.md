# Challenge answers

## A - The entities

Catalogue 
Model
Engine
Wheels
SubModels

The UML diagram has been attached in "images" directory.

The relation between Catalogue and Model is OneToMany and of association type. I took the brand name as an attribute in Catalogue itself , as any specific contraints were not mentioned for it.

The relation between wheels and Model appears to be unidirectional OneToMany as well and of composition type.
The relation between engine and Model appears to be unidirectional OneToMany as well and of composition type.
The relation between submodels and Model appears to be biredirectional OneToMany mapping and of composition type.

## B - Ingest the data

done via Utility classes mentioned in the util package using Xstream package of Thoughtworks.

## C - Expose data with a RESTful API

Done via help of Rest controller created in the controller package.

## D - Adding images

The images can be stored in the blob stores provided by AWS via S3 bucket service or Microsoft Azure's storage account service.

Here whenever an image is supplied along with the model, we can save that to blob and it will generate a URL after storing that image, we can store the URL of that image in our Model table by adding one column named as "image_url" in it. 

And while doing the GET operation to render that image, it can be downloaded via that signed URL ( URL plus shared access signature, that was generated by azure servie account while storing the image there.) 

This can also be done by making one column in Model table of type blob only, but that will impact the database performance, hence its good to go with specific services like storage account

## E - Improvements

Following improvements can be done in the code provided -

1. As of now, I am just checking that model exists before creating or not, but this can also be done for wheels and engines to prevent redundant data creation, as wheel & engine info is there in the subModels as well.

2. A seprate entity can be created to manage car brands, I didn't create one as the scope was limited to FORD here.

3. Custom Exception handling can be added. 

4. Extra dependencies brought in via the initialization spring boot dependencies can be excluded.

5. The contract for APIs can be precisely defined.

6. SSO and Oauth can be used for authentication and authorization too.

7. Test cases can be added to test multiple scenarios, like input file has XML format but content inside is different, then how to handle that scenario of exception.

8. This all is static content and hence can be cached as well, either at CDN or via some distributed cache.